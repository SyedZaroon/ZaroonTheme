{% assign current_variant = product.selected_or_first_available_variant %}

<variant-selects class="variant-picker" data-product-id="{{ product.id }}">
  {% for option in product.options_with_values %}
    <fieldset class="variant-option">
      <legend class="variant-option__name">{{ option.name }}</legend>
      
      <div class="variant-option__values">
        {% for value in option.values %}
          <label for="{{ option.name | handleize }}-{{ value | handleize }}">
            <input 
              type="radio" 
              name="option-{{ forloop.parentloop.index }}" 
              value="{{ value }}" 
              id="{{ option.name | handleize }}-{{ value | handleize }}"
               {% if value.selected %}
        checked
      {% endif %}
            >
            {{ value }}
          </label>
        {% endfor %}
      </div>
    </fieldset>
  {% endfor %}

  <!-- Shopify uses this to know which variant to add to cart -->
      <input type="hidden" name="id" id="hidden-id" value="{{ product.selected_or_first_available_variant.id }}">
</variant-selects>


<style>
    .variant-picker {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 1.5rem 0;
}

.variant-option__name {
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.variant-option__values {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.variant-value {
  padding: 0.5rem 1rem;
  border: 1px solid #ccc;
  border-radius: 8px;
  background: white;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s ease;
}

.variant-value:hover {
  border-color: #000;
  background: #f9f9f9;
}

.variant-value.is-active {
  border-color: #000;
  background: #000;
  color: white;
}

.variant-value.is-disabled {
  opacity: 0.4;
  cursor: not-allowed;
  text-decoration: line-through;
}

</style>

